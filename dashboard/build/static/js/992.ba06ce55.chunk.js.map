{"version":3,"file":"static/js/992.ba06ce55.chunk.js","mappings":"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","sources":["services/educatorApi.ts","pages/educator/MeineGruppe.tsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = '/api';\n\n// Holt alle Gruppen für Erzieher\nexport const getGruppen = async () => {\n  const res = await axios.get(`${API_URL}/groups`, { withCredentials: true });\n  return res.data;\n};\n\n// Holt alle Kinder einer Gruppe\nexport const getKinderByGruppe = async (groupId: string) => {\n  const res = await axios.get(`${API_URL}/groups/${groupId}/children`, { withCredentials: true });\n  return res.data;\n};\n\n// Check-in/out für ein Kind\nexport const checkinKind = async (childId: string, type: 'IN' | 'OUT', method: 'QR' | 'MANUAL') => {\n  const res = await axios.post(`${API_URL}/checkin`, { childId, type, method }, { withCredentials: true });\n  return res.data;\n};\n\n// Holt die heutigen Kinder der Erziehergruppe\nexport const fetchTodaysChildren = async (groupId: string) => {\n  const res = await axios.get(`${API_URL}/groups/${groupId}/children?date=heute`, { withCredentials: true });\n  return res.data;\n};\n\n// Holt ausstehende Check-ins\nexport const fetchPendingCheckins = async (groupId: string) => {\n  const res = await axios.get(`${API_URL}/groups/${groupId}/pending-checkins`, { withCredentials: true });\n  return res.data;\n};\n\n// Holt zugewiesene Kinder\nexport const fetchAssignedChildren = async (educatorId: string) => {\n  const res = await axios.get(`${API_URL}/educators/${educatorId}/children`, { withCredentials: true });\n  return res.data;\n};\n\n// Holt die eigene Gruppe\nexport const fetchMyGroup = async (educatorId: string) => {\n  const res = await axios.get(`${API_URL}/educators/${educatorId}/group`, { withCredentials: true });\n  return res.data;\n};\n\n// Holt Nachrichten\nexport const fetchMessages = async (childId?: string, groupId?: string) => {\n  let url = `${API_URL}/messages`;\n  if (childId) url += `/child/${childId}`;\n  else if (groupId) url += `/group/${groupId}`;\n  const res = await axios.get(url, { withCredentials: true });\n  return res.data;\n};\n\n// Sendet eine Nachricht\nexport const sendMessage = async (data: { content?: string; childId?: string; groupId?: string; file?: File }) => {\n  const formData = new FormData();\n  if (data.content) formData.append('content', data.content);\n  if (data.childId) formData.append('childId', data.childId);\n  if (data.groupId) formData.append('groupId', data.groupId);\n  if (data.file) formData.append('file', data.file);\n  const res = await axios.post(`${API_URL}/message`, formData, {\n    headers: { 'Content-Type': 'multipart/form-data', withCredentials: true },\n  });\n  return res.data;\n};\n\n/**\n * Notizen eines Kindes abrufen\n * @param {string} childId\n * @returns {Promise<any[]>}\n */\nexport async function fetchChildrenNotes(childId: string): Promise<any[]> {\n  const res = await fetch(`${API_URL}/notes/child/${childId}`, {\n    credentials: 'include',\n  });\n  if (!res.ok) throw new Error('Fehler beim Laden der Notizen');\n  return res.json();\n}\n\n/**\n * Neue Notiz für ein Kind anlegen\n * @param {string} childId\n * @param {string} content\n * @param {File | null} [file]\n * @returns {Promise<any>}\n */\nexport async function addNote(childId: string, content: string, file?: File | null): Promise<any> {\n  const formData = new FormData();\n  formData.append('childId', childId);\n  formData.append('content', content);\n  if (file) formData.append('file', file);\n  const res = await fetch(`${API_URL}/notes`, {\n    method: 'POST',\n    credentials: 'include',\n    body: formData,\n  });\n  if (!res.ok) throw new Error('Fehler beim Speichern der Notiz');\n  return res.json();\n}\n\n// Weitere Erzieher-APIs können hier ergänzt werden ","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useUser } from '../../components/UserContext';\nimport { fetchMyGroup } from '../../services/educatorApi';\nimport { Card, AnimatedMascotsLoader, ErrorMsg, Headline } from '../../components/ui/AdminDashboardUI';\n\nconst MeineGruppe: React.FC = () => {\n  const { benutzer } = useUser();\n  const [group, setGroup] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (benutzer?.role !== 'EDUCATOR') return;\n    setLoading(true);\n    fetchMyGroup(benutzer.id)\n      .then(setGroup)\n      .catch(() => setError('Fehler beim Laden der Gruppe.'))\n      .finally(() => setLoading(false));\n  }, [benutzer]);\n\n  if (benutzer?.role !== 'EDUCATOR') return <ErrorMsg>Zugriff verweigert</ErrorMsg>;\n  if (loading) return <AnimatedMascotsLoader text=\"Lade Gruppe...\" />;\n  if (error) return <ErrorMsg>{error}</ErrorMsg>;\n\n  return (\n    <div>\n      <Headline>Meine Gruppe</Headline>\n      {group && (\n        <Card>\n          <h3>{group.name}</h3>\n          <h4>Kinder</h4>\n          <ul>\n            {group.children.map((child: any) => (\n              <li key={child.id}>{child.name}</li>\n            ))}\n          </ul>\n          <h4>Eltern</h4>\n          <ul>\n            {group.parents.map((parent: any) => (\n              <li key={parent.id}>{parent.name} ({parent.email})</li>\n            ))}\n          </ul>\n        </Card>\n      )}\n    </div>\n  );\n};\n\nexport default MeineGruppe; "],"names":["API_URL","fetchTodaysChildren","async","axios","get","concat","groupId","withCredentials","data","fetchPendingCheckins","fetchAssignedChildren","educatorId","fetchMyGroup","fetchMessages","childId","url","sendMessage","formData","FormData","content","append","file","post","headers","fetchChildrenNotes","res","fetch","credentials","ok","Error","json","addNote","method","body","MeineGruppe","benutzer","useUser","group","setGroup","useState","loading","setLoading","error","setError","useEffect","role","id","then","catch","finally","_jsx","ErrorMsg","children","AnimatedMascotsLoader","text","_jsxs","Headline","Card","name","map","child","parents","parent","email"],"sourceRoot":""}