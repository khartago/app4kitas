"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[992],{908:(e,n,t)=>{t.d(n,{WW:()=>s,_z:()=>o,ak:()=>d,gp:()=>p,lj:()=>l,qv:()=>r,tG:()=>h,ux:()=>i});var a=t(9722);const c="/api",i=async e=>(await a.A.get("".concat(c,"/groups/").concat(e,"/children?date=heute"),{withCredentials:!0})).data,r=async e=>(await a.A.get("".concat(c,"/groups/").concat(e,"/pending-checkins"),{withCredentials:!0})).data,d=async e=>(await a.A.get("".concat(c,"/educators/").concat(e,"/children"),{withCredentials:!0})).data,s=async e=>(await a.A.get("".concat(c,"/educators/").concat(e,"/group"),{withCredentials:!0})).data,l=async(e,n)=>{let t="".concat(c,"/messages");e?t+="/child/".concat(e):n&&(t+="/group/".concat(n));return(await a.A.get(t,{withCredentials:!0})).data},o=async e=>{const n=new FormData;e.content&&n.append("content",e.content),e.childId&&n.append("childId",e.childId),e.groupId&&n.append("groupId",e.groupId),e.file&&n.append("file",e.file);return(await a.A.post("".concat(c,"/message"),n,{headers:{"Content-Type":"multipart/form-data",withCredentials:!0}})).data};async function h(e){const n=await fetch("".concat(c,"/notes/child/").concat(e),{credentials:"include"});if(!n.ok)throw new Error("Fehler beim Laden der Notizen");return n.json()}async function p(e,n,t){const a=new FormData;a.append("childId",e),a.append("content",n),t&&a.append("file",t);const i=await fetch("".concat(c,"/notes"),{method:"POST",credentials:"include",body:a});if(!i.ok)throw new Error("Fehler beim Speichern der Notiz");return i.json()}},7992:(e,n,t)=>{t.r(n),t.d(n,{default:()=>s});var a=t(5043),c=t(8223),i=t(908),r=t(8845),d=t(579);const s=()=>{const{benutzer:e}=(0,c.J)(),[n,t]=(0,a.useState)(null),[s,l]=(0,a.useState)(!0),[o,h]=(0,a.useState)(null);return(0,a.useEffect)(()=>{"EDUCATOR"===(null===e||void 0===e?void 0:e.role)&&(l(!0),(0,i.WW)(e.id).then(t).catch(()=>h("Fehler beim Laden der Gruppe.")).finally(()=>l(!1)))},[e]),"EDUCATOR"!==(null===e||void 0===e?void 0:e.role)?(0,d.jsx)(r.IW,{children:"Zugriff verweigert"}):s?(0,d.jsx)(r.BZ,{text:"Lade Gruppe..."}):o?(0,d.jsx)(r.IW,{children:o}):(0,d.jsxs)("div",{children:[(0,d.jsx)(r.$j,{children:"Meine Gruppe"}),n&&(0,d.jsxs)(r.Zp,{children:[(0,d.jsx)("h3",{children:n.name}),(0,d.jsx)("h4",{children:"Kinder"}),(0,d.jsx)("ul",{children:n.children.map(e=>(0,d.jsx)("li",{children:e.name},e.id))}),(0,d.jsx)("h4",{children:"Eltern"}),(0,d.jsx)("ul",{children:n.parents.map(e=>(0,d.jsxs)("li",{children:[e.name," (",e.email,")"]},e.id))})]})]})}}}]);
//# sourceMappingURL=992.ba06ce55.chunk.js.map