"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[876],{3876:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J});var a,r,i,l,o,s,c,d,h,u,p,m=n(9379),y=n(7528),x=n(5043),g=n(5464),f=n(1146),j=n(4255),b=n(5974),w=n(8845),A=n(1924),C=n(579);const v=g.Ay.table(a||(a=(0,y.A)(["\n  width: 100%;\n  border-collapse: collapse;\n  background: ",";\n"])),e=>{let{theme:t}=e;return t.colors.surface}),S=g.Ay.th(r||(r=(0,y.A)(["\n  padding: 12px;\n  background: ",";\n  color: #fff;\n  text-align: left;\n  font-family: ",";\n  font-size: ",";\n  font-weight: ",";\n"])),e=>{let{theme:t}=e;return t.colors.primary},e=>{let{theme:t}=e;return t.typography.fontFamily},e=>{let{theme:t}=e;return t.typography.body1.fontSize},e=>{let{theme:t}=e;return t.typography.body1.fontWeight}),k=g.Ay.td(i||(i=(0,y.A)(["\n  padding: 12px;\n  border-bottom: 1px solid ",";\n  font-family: ",";\n  font-size: ",";\n  color: ",";\n"])),e=>{let{theme:t}=e;return t.colors.border},e=>{let{theme:t}=e;return t.typography.fontFamily},e=>{let{theme:t}=e;return t.typography.body2.fontSize},e=>{let{theme:t}=e;return t.colors.textPrimary}),z=g.Ay.tr(l||(l=(0,y.A)([""]))),F=g.Ay.td(o||(o=(0,y.A)(["\n  display: flex;\n  gap: 8px;\n"]))),U=g.Ay.div(s||(s=(0,y.A)(["\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n  margin-top: 16px;\n"]))),B=g.Ay.input(c||(c=(0,y.A)(["\n  padding: ",";\n  border-radius: ",";\n  border: 1px solid ",";\n  margin-bottom: 16px;\n  width: 250px;\n  font-family: ",";\n  font-size: ",";\n  color: ",";\n  background: ",";\n  &:focus {\n    outline: none;\n    border-color: ",";\n  }\n"])),e=>{let{theme:t}=e;return t.components.input.padding},e=>{let{theme:t}=e;return t.components.input.borderRadius},e=>{let{theme:t}=e;return t.colors.border},e=>{let{theme:t}=e;return t.typography.fontFamily},e=>{let{theme:t}=e;return t.typography.body2.fontSize},e=>{let{theme:t}=e;return t.colors.textPrimary},e=>{let{theme:t}=e;return t.colors.surface},e=>{let{theme:t}=e;return t.components.input.focusedBorderColor}),N=(0,g.Ay)(w.$n)(d||(d=(0,y.A)(["\n  margin-bottom: 16px;\n"]))),K=(0,g.Ay)(w.$n)(h||(h=(0,y.A)(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  border-radius: 6px;\n  padding: 6px 14px;\n  font-family: ",";\n  font-size: ",";\n  font-weight: 500;\n  cursor: pointer;\n  transition: background 0.2s, color 0.2s;\n  &:hover {\n    background: ",";\n    color: #fff;\n  }\n"])),e=>{let{theme:t,active:n}=e;return n?t.colors.primary:t.colors.surface},e=>{let{theme:t,active:n}=e;return n?"#fff":t.colors.textPrimary},e=>{let{theme:t}=e;return t.colors.border},e=>{let{theme:t}=e;return t.typography.fontFamily},e=>{let{theme:t}=e;return t.typography.body2.fontSize},e=>{let{theme:t}=e;return t.colors.primaryDark}),$=g.Ay.div(u||(u=(0,y.A)(["\n  display: flex;\n  gap: 12px;\n  margin-bottom: 16px;\n"]))),q=g.Ay.div(p||(p=(0,y.A)(["\n  text-align: center;\n  margin: 48px 0;\n"]))),J=()=>{const[e,t]=(0,x.useState)([]),[n,a]=(0,x.useState)(""),[r,i]=(0,x.useState)(1),[l,o]=(0,x.useState)(0),[s,c]=(0,x.useState)(!1),[d,h]=(0,x.useState)(!1),[u,p]=(0,x.useState)(null),[y,g]=(0,x.useState)(null),[J,D]=(0,x.useState)({name:"",birthdate:""}),[G,P]=(0,x.useState)({name:"",birthdate:""}),[E,I]=(0,x.useState)(""),[L,R]=(0,x.useState)(""),[Z,M]=(0,x.useState)(null),[T,_]=(0,x.useState)(null);(0,x.useEffect)(()=>{(async()=>{c(!0);try{new URLSearchParams({search:n,page:String(r),size:String(10)});const e=await(0,b.st)();t(e.children||e),o(e.total||e.length||0)}catch(e){t([]),o(0)}finally{c(!1)}})()},[n,r]);const H=Math.ceil(l/10);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(A.A,{title:"Kinderverwaltung"}),(0,C.jsxs)("div",{style:{marginTop:64},children:[(0,C.jsxs)($,{children:[(0,C.jsx)(w.$n,{onClick:()=>(0,b.qU)("csv"),children:"Als CSV exportieren"}),(0,C.jsx)(w.$n,{onClick:()=>(0,b.qU)("pdf"),children:"Als PDF exportieren"}),(0,C.jsx)(N,{onClick:()=>h(!0),children:"+ Kind hinzuf\xfcgen"})]}),(0,C.jsx)(B,{placeholder:"Suche nach Name...",value:n,onChange:e=>{a(e.target.value),i(1)}}),(0,C.jsxs)(v,{children:[(0,C.jsx)("thead",{children:(0,C.jsxs)(z,{children:[(0,C.jsx)(S,{children:"Name"}),(0,C.jsx)(S,{children:"Geburtsdatum"}),(0,C.jsx)(S,{children:"Foto"}),(0,C.jsx)(S,{children:"Aktionen"})]})}),(0,C.jsx)("tbody",{children:s?(0,C.jsx)(z,{children:(0,C.jsx)(k,{colSpan:4,children:"L\xe4dt..."})}):0===e.length?(0,C.jsx)(z,{children:(0,C.jsx)(k,{colSpan:4,children:(0,C.jsxs)(q,{children:[(0,C.jsx)(j.A,{size:80,mood:"help"}),(0,C.jsx)("div",{children:"Keine Kinder gefunden."})]})})}):e.map(e=>(0,C.jsxs)(z,{children:[(0,C.jsx)(k,{children:e.name}),(0,C.jsx)(k,{children:e.birthdate}),(0,C.jsx)(k,{children:e.photoUrl?(0,C.jsx)(w.eu,{src:e.photoUrl,alt:e.name}):"\u2014"}),(0,C.jsxs)(F,{children:[(0,C.jsx)(w.$n,{onClick:()=>{p(e.id),P({name:e.name,birthdate:e.birthdate})},children:"Bearbeiten"}),(0,C.jsx)(w.$n,{onClick:()=>g(e.id),style:{background:"#e53935"},children:"L\xf6schen"})]})]},e.id))})]}),(0,C.jsx)(U,{children:Array.from({length:H},(e,t)=>(0,C.jsx)(K,{active:t+1===r,onClick:()=>i(t+1),children:t+1},t))}),d&&(0,C.jsxs)(f.Ay,{open:d,onClose:()=>h(!1),title:"Kind anlegen",children:[E&&(0,C.jsx)(f.yn,{children:E}),(0,C.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),I(""),J.name&&J.birthdate)try{const e=await(0,b.oS)(J);Z&&(await(0,b.Iw)(e.id,Z),M(null)),h(!1),D({name:"",birthdate:""}),i(1),a("");const n=await(0,b.st)();t(n.children||n),o(n.total||n.length||0)}catch(n){I((null===n||void 0===n?void 0:n.message)||"Fehler beim Hinzuf\xfcgen.")}else I("Name und Geburtsdatum sind erforderlich.")},children:[(0,C.jsxs)(f.zB,{children:[(0,C.jsx)(f.JU,{children:"Name"}),(0,C.jsx)(f.pd,{type:"text",value:J.name,onChange:e=>D(t=>(0,m.A)((0,m.A)({},t),{},{name:e.target.value})),required:!0})]}),(0,C.jsxs)(f.zB,{children:[(0,C.jsx)(f.JU,{children:"Geburtsdatum"}),(0,C.jsx)(f.pd,{type:"date",value:J.birthdate,onChange:e=>D(t=>(0,m.A)((0,m.A)({},t),{},{birthdate:e.target.value})),required:!0})]}),(0,C.jsxs)(f.zB,{children:[(0,C.jsx)(f.JU,{children:"Foto (optional)"}),(0,C.jsx)(f.pd,{type:"file",accept:"image/*",onChange:e=>{var t;return M((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)}})]}),(0,C.jsx)(f.yl,{type:"submit",children:"Anlegen"})]})]}),u&&(0,C.jsxs)(f.Ay,{open:!!u,onClose:()=>p(null),title:"Kind bearbeiten",children:[L&&(0,C.jsx)(f.yn,{children:L}),(0,C.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),R(""),G.name&&G.birthdate)try{if(u){await(0,b.N6)(u,G),T&&(await(0,b.Iw)(u,T),_(null)),p(null),P({name:"",birthdate:""});const e=await(0,b.st)();t(e.children||e),o(e.total||e.length||0)}}catch(n){R((null===n||void 0===n?void 0:n.message)||"Fehler beim Bearbeiten.")}else R("Name und Geburtsdatum sind erforderlich.")},children:[(0,C.jsxs)(f.zB,{children:[(0,C.jsx)(f.JU,{children:"Name"}),(0,C.jsx)(f.pd,{type:"text",value:G.name,onChange:e=>P(t=>(0,m.A)((0,m.A)({},t),{},{name:e.target.value})),required:!0})]}),(0,C.jsxs)(f.zB,{children:[(0,C.jsx)(f.JU,{children:"Geburtsdatum"}),(0,C.jsx)(f.pd,{type:"date",value:G.birthdate,onChange:e=>P(t=>(0,m.A)((0,m.A)({},t),{},{birthdate:e.target.value})),required:!0})]}),(0,C.jsxs)(f.zB,{children:[(0,C.jsx)(f.JU,{children:"Foto (optional)"}),(0,C.jsx)(f.pd,{type:"file",accept:"image/*",onChange:e=>{var t;return _((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)}})]}),(0,C.jsx)(f.yl,{type:"submit",children:"Speichern"})]})]}),y&&(0,C.jsxs)(f.Ay,{open:!!y,onClose:()=>g(null),title:"Kind l\xf6schen",children:[(0,C.jsx)("p",{children:"M\xf6chtest du dieses Kind wirklich l\xf6schen?"}),(0,C.jsx)(f.yl,{style:{background:"#e53935"},onClick:async()=>{if(y){c(!0);try{await(0,b.EZ)(y),g(null);const e=await(0,b.st)();t(e.children||e),o(e.total||e.length||0)}catch(e){}c(!1)}},children:"L\xf6schen"})]})]})]})}},5974:(e,t,n)=>{n.d(t,{$:()=>o,$r:()=>g,Bx:()=>p,EZ:()=>y,F4:()=>m,Iw:()=>u,N6:()=>h,RN:()=>b,UR:()=>f,Zr:()=>j,dE:()=>i,kC:()=>s,oS:()=>d,pl:()=>l,qU:()=>x,st:()=>c});var a=n(9722);const r="/api",i=async()=>(await a.A.get("".concat(r,"/admin/stats"),{withCredentials:!0})).data,l=async()=>(await a.A.get("".concat(r,"/groups"),{withCredentials:!0})).data,o=async e=>(await a.A.post("".concat(r,"/groups"),e,{withCredentials:!0})).data,s=async(e,t)=>(await a.A.put("".concat(r,"/groups/").concat(e,"/educators"),{educatorIds:t},{withCredentials:!0})).data,c=async()=>(await a.A.get("".concat(r,"/children"),{withCredentials:!0})).data,d=async e=>(await a.A.post("".concat(r,"/children"),e,{withCredentials:!0})).data,h=async(e,t)=>(await a.A.put("".concat(r,"/children/").concat(e),t,{withCredentials:!0})).data,u=async(e,t)=>{const n=new FormData;n.append("photo",t);return(await a.A.put("".concat(r,"/children/").concat(e,"/photo"),n,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}})).data},p=async()=>(await a.A.get("".concat(r,"/educators"),{withCredentials:!0})).data,m=async()=>(await a.A.get("".concat(r,"/checkin/stats"),{withCredentials:!0})).data,y=async e=>(await a.A.delete("".concat(r,"/children/").concat(e),{withCredentials:!0})).data,x=e=>{window.open("".concat(r,"/children/export?format=").concat(e),"_blank")},g=async e=>(await a.A.post("".concat(r,"/educators"),e,{withCredentials:!0})).data,f=async(e,t)=>(await a.A.put("".concat(r,"/educators/").concat(e),t,{withCredentials:!0})).data,j=async e=>(await a.A.delete("".concat(r,"/educators/").concat(e),{withCredentials:!0})).data,b=e=>{window.open("".concat(r,"/educators/export?format=").concat(e),"_blank")}}}]);
//# sourceMappingURL=876.515d88b3.chunk.js.map