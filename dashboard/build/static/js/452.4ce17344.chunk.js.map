{"version":3,"file":"static/js/452.4ce17344.chunk.js","mappings":"iPAEA,MAAMA,EAAU,OAKTC,eAAeC,IACpB,MAAMC,QAAYC,MAAM,GAADC,OAAIL,EAAO,qBAAqB,CACrDM,YAAa,UACbC,QAAS,CAAE,eAAgB,sBAE7B,IAAKJ,EAAIK,GAAI,MAAM,IAAIC,MAAM,gDAC7B,OAAON,EAAIO,MACb,CAKOT,eAAeU,IACpB,MAAMR,QAAYC,MAAM,GAADC,OAAIL,EAAO,wBAAwB,CACxDM,YAAa,UACbC,QAAS,CAAE,eAAgB,sBAE7B,IAAKJ,EAAIK,GAAI,MAAM,IAAIC,MAAM,kCAC7B,OAAON,EAAIO,MACb,CAKOT,eAAeW,IACpB,MAAMT,QAAYC,MAAM,GAADC,OAAIL,EAAO,sBAAsB,CACtDM,YAAa,UACbC,QAAS,CAAE,eAAgB,sBAE7B,IAAKJ,EAAIK,GAAI,MAAM,IAAIC,MAAM,gCAC7B,OAAON,EAAIO,MACb,CAKOT,eAAeY,EAAQC,GAC5B,MAAMX,QAAYC,MAAM,GAADC,OAAIL,EAAO,kBAAkB,CAClDe,OAAQ,OACRT,YAAa,UACbC,QAAS,CAAE,eAAgB,oBAC3BS,KAAMC,KAAKC,UAAUJ,KAEvB,IAAKX,EAAIK,GAAI,MAAM,IAAIC,MAAM,uCAC7B,OAAON,EAAIO,MACb,CAcOT,eAAekB,IACpB,MAAMhB,QAAYC,MAAM,GAADC,OAAIL,EAAO,UAAU,CAAEM,YAAa,YAC3D,IAAKH,EAAIK,GAAI,MAAM,IAAIC,MAAM,qCAC7B,OAAON,EAAIO,MACb,CAKO,MAAMU,EAAqBD,EAKrBE,EAAqBF,EA8B3BlB,eAAeqB,EAAYR,GAChC,MAAMX,QAAYC,MAAM,GAADC,OAAIL,EAAO,UAAU,CAC1Ce,OAAQ,OACRT,YAAa,UACbC,QAAS,CAAE,eAAgB,oBAC3BS,KAAMC,KAAKC,WAASK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIT,GAAI,IAAEU,KAAM,gBAExC,IAAKrB,EAAIK,GAAI,MAAM,IAAIC,MAAM,qCAC7B,OAAON,EAAIO,MACb,CAKOT,eAAewB,EAAaC,EAAYZ,GAC7C,MAAMX,QAAYC,MAAM,GAADC,OAAIL,EAAO,WAAAK,OAAUqB,GAAM,CAChDX,OAAQ,MACRT,YAAa,UACbC,QAAS,CAAE,eAAgB,oBAC3BS,KAAMC,KAAKC,UAAUJ,KAEvB,IAAKX,EAAIK,GAAI,MAAM,IAAIC,MAAM,wCAC7B,OAAON,EAAIO,MACb,CAKOT,eAAe0B,EAAeD,GACnC,MAAMvB,QAAYC,MAAM,GAADC,OAAIL,EAAO,WAAAK,OAAUqB,GAAM,CAChDX,OAAQ,SACRT,YAAa,YAEf,IAAKH,EAAIK,GAAI,MAAM,IAAIC,MAAM,wCAC7B,OAAON,EAAIO,MACb,CAKOT,eAAe2B,EAAUd,GAC9B,MAAMX,QAAYC,MAAM,GAADC,OAAIL,EAAO,UAAU,CAC1Ce,OAAQ,OACRT,YAAa,UACbC,QAAS,CAAE,eAAgB,oBAC3BS,KAAMC,KAAKC,WAASK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIT,GAAI,IAAEU,KAAM,cAExC,IAAKrB,EAAIK,GAAI,MAAM,IAAIC,MAAM,uCAC7B,OAAON,EAAIO,MACb,CAKOT,eAAe4B,EAAWH,EAAYZ,GAC3C,MAAMX,QAAYC,MAAM,GAADC,OAAIL,EAAO,WAAAK,OAAUqB,GAAM,CAChDX,OAAQ,MACRT,YAAa,UACbC,QAAS,CAAE,eAAgB,oBAC3BS,KAAMC,KAAKC,UAAUJ,KAEvB,IAAKX,EAAIK,GAAI,MAAM,IAAIC,MAAM,0CAC7B,OAAON,EAAIO,MACb,CAKOT,eAAe6B,EAAaJ,GACjC,MAAMvB,QAAYC,MAAM,GAADC,OAAIL,EAAO,WAAAK,OAAUqB,GAAM,CAChDX,OAAQ,SACRT,YAAa,YAEf,IAAKH,EAAIK,GAAI,MAAM,IAAIC,MAAM,0CAC7B,OAAON,EAAIO,MACb,CAKOT,eAAe8B,EAASL,EAAYZ,GACzC,MAAMX,QAAYC,MAAM,GAADC,OAAIL,EAAO,mBAAAK,OAAkBqB,GAAM,CACxDX,OAAQ,MACRT,YAAa,UACbC,QAAS,CAAE,eAAgB,oBAC3BS,KAAMC,KAAKC,UAAUJ,KAEvB,IAAKX,EAAIK,GAAI,MAAM,IAAIC,MAAM,0CAC7B,OAAON,EAAIO,MACb,CAKOT,eAAe+B,EAAWN,GAC/B,MAAMvB,QAAYC,MAAM,GAADC,OAAIL,EAAO,mBAAAK,OAAkBqB,GAAM,CACxDX,OAAQ,SACRT,YAAa,YAEf,IAAKH,EAAIK,GAAI,MAAM,IAAIC,MAAM,0CAC7B,OAAON,EAAIO,MACb,CAmBOT,eAAegC,IACpB,MAAM9B,QAAYC,MAAM,GAADC,OAAIL,EAAO,kBAAkB,CAClDM,YAAa,UACbC,QAAS,CAAE,eAAgB,sBAE7B,IAAKJ,EAAIK,GAAI,MAAM,IAAIC,MAAM,uCAC7B,OAAON,EAAIO,MACb,C,0KCpOA,MAAMwB,GAAWC,EAAAA,EAAAA,IAAOC,EAAAA,GAAPD,CAAYE,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,6aAClBC,IAAA,IAAC,UAAEC,GAAWD,EAAA,OAAKC,GAAa,QAQ/BC,IAAA,IAAC,OAAEC,EAAM,MAAEC,GAAOF,EAAA,OAAKC,EAAM,eAAArC,OAAkBsC,EAAMC,OAAOF,QAAWC,EAAME,WAAWC,KAAKC,QACzFC,IAAA,IAAC,OAAEN,EAAM,MAAEC,GAAOK,EAAA,OAAKN,EAAS,kCAAoCC,EAAME,WAAWC,KAAKG,WAC7FC,IAAA,IAAC,MAAEP,GAAOO,EAAA,OAAKP,EAAME,WAAWC,KAAKK,SAC/BC,IAAA,IAAC,MAAET,GAAOS,EAAA,OAAKT,EAAME,WAAWC,KAAKO,eAYlDC,EAAYnB,EAAAA,GAAOoB,GAAEC,IAAAA,GAAAlB,EAAAA,EAAAA,GAAA,4IAGZmB,IAAA,IAAC,MAAEd,GAAOc,EAAA,OAAKd,EAAMe,WAAWC,UAAUC,UAC9CC,IAAA,IAAC,MAAElB,GAAOkB,EAAA,OAAKlB,EAAMC,OAAOkB,cAMjCC,EAAY5B,EAAAA,GAAO6B,EAACC,IAAAA,GAAA3B,EAAAA,EAAAA,GAAA,qJAIf4B,IAAA,IAAC,MAAEvB,GAAOuB,EAAA,OAAKvB,EAAMC,OAAOuB,UAMjCC,EAAajC,EAAAA,GAAOkC,IAAGC,IAAAA,GAAAhC,EAAAA,EAAAA,GAAA,4WACbiC,IAAA,IAAC,MAAEC,GAAOD,EAAA,OAAKC,IAiBzBC,EAAUtC,EAAAA,GAAOkC,IAAGK,IAAAA,GAAApC,EAAAA,EAAAA,GAAA,kOAwBpBqC,IAXkBxC,EAAAA,EAAAA,IAAOyC,EAAAA,GAAPzC,CAAgB0C,IAAAA,GAAAvC,EAAAA,EAAAA,GAAA,wLAWlBH,EAAAA,GAAOkC,IAAGS,IAAAA,GAAAxC,EAAAA,EAAAA,GAAA,4HAQ1ByC,EAAc5C,EAAAA,GAAOkC,IAAGW,IAAAA,GAAA1C,EAAAA,EAAAA,GAAA,wSAgBxB2C,EAAU9C,EAAAA,GAAO+C,GAAEC,IAAAA,GAAA7C,EAAAA,EAAAA,GAAA,mKAGG8C,IAAA,IAAC,MAAEzC,GAAOyC,EAAA,OAAKzC,EAAMC,OAAOG,SAOlDsC,EAAelD,EAAAA,GAAOmD,OAAMC,IAAAA,GAAAjD,EAAAA,EAAAA,GAAA,iZAClBkD,IAAA,IAAC,MAAE7C,GAAO6C,EAAA,OAAK7C,EAAMC,OAAOF,QAa1B+C,IAAA,IAAC,MAAE9C,GAAO8C,EAAA,OAAK9C,EAAMC,OAAOuB,UAMxCuB,EAAW,CACf,CAAEC,IAAK,QAASC,MAAO,cAAeC,MAAMC,EAAAA,EAAAA,KAACC,EAAAA,IAAO,CAACC,KAAM,GAAIxB,MAAM,SAAWA,MAAO,WACvF,CAAEmB,IAAK,SAAUC,MAAO,wBAAyBC,MAAMC,EAAAA,EAAAA,KAACG,EAAAA,IAAS,CAACD,KAAM,GAAIxB,MAAM,SAAWA,MAAO,WACpG,CAAEmB,IAAK,YAAaC,MAAO,iBAAkBC,MAAMC,EAAAA,EAAAA,KAACI,EAAAA,IAAmB,CAACF,KAAM,GAAIxB,MAAM,SAAWA,MAAO,WAC1G,CAAEmB,IAAK,UAAWC,MAAO,SAAUC,MAAMC,EAAAA,EAAAA,KAACK,EAAAA,IAAa,CAACH,KAAM,GAAIxB,MAAM,SAAWA,MAAO,WAC1F,CAAEmB,IAAK,WAAYC,MAAO,SAAUC,MAAMC,EAAAA,EAAAA,KAACM,EAAAA,IAAO,CAACJ,KAAM,GAAIxB,MAAM,SAAWA,MAAO,WACrF,CAAEmB,IAAK,SAAUC,MAAO,UAAWC,MAAMC,EAAAA,EAAAA,KAACO,EAAAA,IAAY,CAACL,KAAM,GAAIxB,MAAM,SAAWA,MAAO,WACzF,CAAEmB,IAAK,WAAYC,MAAO,YAAaC,MAAMC,EAAAA,EAAAA,KAACQ,EAAAA,GAAW,CAACN,KAAM,GAAIxB,MAAM,SAAWA,MAAO,WAC5F,CAAEmB,IAAK,WAAYC,MAAO,cAAeC,MAAMC,EAAAA,EAAAA,KAACS,EAAAA,IAAU,CAACP,KAAM,GAAIxB,MAAM,SAAWA,MAAO,WAC7F,CAAEmB,IAAK,gBAAiBC,MAAO,qBAAsBC,MAAMC,EAAAA,EAAAA,KAACU,EAAAA,IAAM,CAACR,KAAM,GAAIxB,MAAM,SAAWA,MAAO,YAGjGiC,EAAYf,EAASgB,MAAM,EAAG,GAC9BC,EAAgBjB,EAASgB,MAAM,GAerC,SAASE,EACPC,EACAC,GAEuB,IADvBC,EAAWC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAEX,MAAMG,EAA6B,GACnC,IAAK,IAAIC,EAAI,EAAGA,EAAIP,EAASI,OAAQG,GAAK,EAAG,CAC3C,MAAMC,EAAMR,EAASH,MAAMU,EAAGA,EAAI,GAClC,IAAI5E,EAAY,OACG,IAAf6E,EAAIJ,SAAczE,EAAY,SACf,IAAf6E,EAAIJ,SAAczE,EAAY,OAClC2E,EAAKG,MACHxB,EAAAA,EAAAA,KAACrB,EAAO,CAAA8C,SACLF,EAAIG,IAAI,CAACC,EAAMC,KAAC,IAAAC,EAAA,OACfC,EAAAA,EAAAA,MAAC1F,EAAQ,CAEPQ,OAAQqE,GAAeK,EAAIM,IAAM,EACjC,aAAYD,EAAK7B,MACjBiC,SAAU,EACVrF,UAAWA,EAAU+E,SAAA,EAErBzB,EAAAA,EAAAA,KAAC1B,EAAU,CAACI,MAAOiD,EAAKjD,MAAM+C,SAAEE,EAAK5B,QACrCC,EAAAA,EAAAA,KAACxC,EAAS,CAAAiE,SAAEE,EAAK7B,SACjBE,EAAAA,EAAAA,KAAC/B,EAAS,CAAAwD,SAAiB,QAAjBI,EAAEb,EAAMW,EAAK9B,YAAI,IAAAgC,EAAAA,EAAI,MAR1BF,EAAK9B,QAHFyB,GAgBlB,CACA,OAAOD,CACT,CAEA,MAwCA,EAxC8BW,KAC5B,MAAM,SAAEC,IAAaC,EAAAA,EAAAA,MACdlB,EAAOmB,IAAYC,EAAAA,EAAAA,UAAc,CAAC,IAClCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAwB,MAWlD,OATAK,EAAAA,EAAAA,WAAU,KACe,iBAAX,OAARR,QAAQ,IAARA,OAAQ,EAARA,EAAUvG,QACd4G,GAAW,IACX/G,EAAAA,EAAAA,MACGmH,KAAKP,GACLQ,MAAM,IAAMH,EAAS,uCACrBI,QAAQ,IAAMN,GAAW,MAC3B,CAACL,IAEmB,iBAAX,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAUvG,OAA+BsE,EAAAA,EAAAA,KAAC6C,EAAAA,GAAQ,CAAApB,SAAC,uBACnDY,GAAgBrC,EAAAA,EAAAA,KAAC8C,EAAAA,GAAqB,CAACC,KAAK,wBAC5CR,GAAcvC,EAAAA,EAAAA,KAAC6C,EAAAA,GAAQ,CAAApB,SAAEc,KAG3BT,EAAAA,EAAAA,MAAAkB,EAAAA,SAAA,CAAAvB,SAAA,EACEzB,EAAAA,EAAAA,KAACiD,EAAAA,EAAM,CAACC,MAAM,gCACdpB,EAAAA,EAAAA,MAACjD,EAAa,CAAA4C,SAAA,EACZzB,EAAAA,EAAAA,KAACf,EAAW,CAAAwC,UACVzB,EAAAA,EAAAA,KAACmD,EAAAA,EAAU,CAACjD,KAAM,IAAKkD,KAAK,QAAQC,kBAAcjC,OAEpDpB,EAAAA,EAAAA,KAAClB,EAAAA,GAAQ,CAACwE,GAAG,MAAMC,MAAO,CAAEzF,SAAU,GAAI0F,OAAQ,EAAG9E,MAAO,UAAW+E,UAAW,UAAWhC,SAAC,+CAIhGzB,EAAAA,EAAAA,KAACT,EAAY,CAACmE,QAASA,IA3E7B,SAAqB1C,GACnB,MAEM2C,EADS,mBADFC,OAAOC,QAAQ7C,GAAOU,IAAIoC,IAAA,IAAEjE,EAAKkE,GAAMD,EAAA,MAAM,CAAEE,UAAWnE,EAAKoE,KAAMF,KAExDrC,IAAIwC,GAAC,GAAA3J,OAAO2J,EAAEF,UAAS,KAAAzJ,OAAI2J,EAAED,OAAQE,KAAK,MAC9DC,EAAO,IAAIC,KAAK,CAACV,GAAM,CAAEW,KAAM,aAC/BC,EAAMC,IAAIC,gBAAgBL,GAC1BM,EAAIC,SAASC,cAAc,KACjCF,EAAEG,KAAON,EACTG,EAAEI,SAAW,4BACbJ,EAAEK,QACFP,IAAIQ,gBAAgBT,EACtB,CAgEmCU,CAAYjE,GAAQ,aAAW,kCAAiCS,SAAC,oCAG7FX,EAAeH,EAAWK,GAAO,IAClChB,EAAAA,EAAAA,KAACb,EAAO,IACP2B,EAAeD,EAAeG,M","sources":["services/superAdminApi.ts","pages/super_admin/Statistiken.tsx"],"sourcesContent":["// API-Services für Super Admin Dashboard (Deutsch)\n\nconst API_URL = '/api';\n\n/**\n * Alle Institutionen (Admins) abrufen\n */\nexport async function fetchInstitutionenAdmins(): Promise<any[]> {\n  const res = await fetch(`${API_URL}/users?role=ADMIN`, {\n    credentials: 'include',\n    headers: { 'Content-Type': 'application/json' },\n  });\n  if (!res.ok) throw new Error('Fehler beim Laden der Institutionen (Admins)');\n  return res.json();\n}\n\n/**\n * Alle Erzieher abrufen\n */\nexport async function fetchEducators(): Promise<any[]> {\n  const res = await fetch(`${API_URL}/users?role=EDUCATOR`, {\n    credentials: 'include',\n    headers: { 'Content-Type': 'application/json' },\n  });\n  if (!res.ok) throw new Error('Fehler beim Laden der Erzieher');\n  return res.json();\n}\n\n/**\n * Alle Eltern abrufen\n */\nexport async function fetchParents(): Promise<any[]> {\n  const res = await fetch(`${API_URL}/users?role=PARENT`, {\n    credentials: 'include',\n    headers: { 'Content-Type': 'application/json' },\n  });\n  if (!res.ok) throw new Error('Fehler beim Laden der Eltern');\n  return res.json();\n}\n\n/**\n * Neue Institution anlegen\n */\nexport async function addKita(data: { name: string; address: string }): Promise<any> {\n  const res = await fetch(`${API_URL}/institutionen`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  });\n  if (!res.ok) throw new Error('Fehler beim Anlegen der Institution');\n  return res.json();\n}\n\n/**\n * Nutzerübersicht für Super Admin\n */\nexport async function fetchAllUsers(): Promise<any[]> {\n  const res = await fetch(`${API_URL}/users`, { credentials: 'include' });\n  if (!res.ok) throw new Error('Fehler beim Laden der Nutzer');\n  return res.json();\n}\n\n/**\n * Statistiken abrufen\n */\nexport async function fetchSuperAdminStats(): Promise<any> {\n  const res = await fetch(`${API_URL}/stats`, { credentials: 'include' });\n  if (!res.ok) throw new Error('Fehler beim Laden der Statistiken');\n  return res.json();\n}\n\n/**\n * Alias für Super Admin Statistiken (getSuperAdminStats)\n */\nexport const getSuperAdminStats = fetchSuperAdminStats;\n\n/**\n * Alias für Plattform-Statistiken (fetchSuperAdminStats)\n */\nexport const fetchPlatformStats = fetchSuperAdminStats;\n\n/**\n * Alle Plattform-Admins abrufen\n */\nexport async function fetchPlatformAdmin(): Promise<any[]> {\n  const res = await fetch(`${API_URL}/users?role=SUPER_ADMIN`, { credentials: 'include' });\n  if (!res.ok) throw new Error('Fehler beim Laden der Plattform-Admins');\n  return res.json();\n}\n\n/**\n * Admin einer Kita zuweisen\n * @param {string} kitaId - Die ID der Kita\n * @param {string} adminId - Die ID des Admins\n */\nexport async function assignAdmin(kitaId: string, adminId: string): Promise<any> {\n  const res = await fetch(`${API_URL}/institutions/${kitaId}/assign-admin`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ adminId }),\n  });\n  if (!res.ok) throw new Error('Fehler beim Zuweisen des Admins');\n  return res.json();\n}\n\n/**\n * Erzieher anlegen\n */\nexport async function addEducator(data: { name: string; email: string; password: string; groupIds?: string[] }): Promise<any> {\n  const res = await fetch(`${API_URL}/users`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ ...data, role: 'EDUCATOR' }),\n  });\n  if (!res.ok) throw new Error('Fehler beim Anlegen des Erziehers');\n  return res.json();\n}\n\n/**\n * Erzieher bearbeiten\n */\nexport async function editEducator(id: string, data: { name?: string; email?: string; password?: string; groupIds?: string[] }): Promise<any> {\n  const res = await fetch(`${API_URL}/users/${id}`, {\n    method: 'PUT',\n    credentials: 'include',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  });\n  if (!res.ok) throw new Error('Fehler beim Bearbeiten des Erziehers');\n  return res.json();\n}\n\n/**\n * Erzieher löschen\n */\nexport async function deleteEducator(id: string): Promise<any> {\n  const res = await fetch(`${API_URL}/users/${id}`, {\n    method: 'DELETE',\n    credentials: 'include',\n  });\n  if (!res.ok) throw new Error('Fehler beim Löschen des Erziehers');\n  return res.json();\n}\n\n/**\n * Eltern anlegen\n */\nexport async function addParent(data: { name: string; email: string; password: string }): Promise<any> {\n  const res = await fetch(`${API_URL}/users`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ ...data, role: 'PARENT' }),\n  });\n  if (!res.ok) throw new Error('Fehler beim Anlegen des Elternteils');\n  return res.json();\n}\n\n/**\n * Eltern bearbeiten\n */\nexport async function editParent(id: string, data: { name?: string; email?: string; password?: string }): Promise<any> {\n  const res = await fetch(`${API_URL}/users/${id}`, {\n    method: 'PUT',\n    credentials: 'include',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  });\n  if (!res.ok) throw new Error('Fehler beim Bearbeiten des Elternteils');\n  return res.json();\n}\n\n/**\n * Eltern löschen\n */\nexport async function deleteParent(id: string): Promise<any> {\n  const res = await fetch(`${API_URL}/users/${id}`, {\n    method: 'DELETE',\n    credentials: 'include',\n  });\n  if (!res.ok) throw new Error('Fehler beim Löschen des Elternteils');\n  return res.json();\n}\n\n/**\n * Institution (Kita) bearbeiten\n */\nexport async function editKita(id: string, data: { name?: string; address?: string }): Promise<any> {\n  const res = await fetch(`${API_URL}/institutionen/${id}`, {\n    method: 'PUT',\n    credentials: 'include',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  });\n  if (!res.ok) throw new Error('Fehler beim Bearbeiten der Institution');\n  return res.json();\n}\n\n/**\n * Institution (Kita) löschen\n */\nexport async function deleteKita(id: string): Promise<any> {\n  const res = await fetch(`${API_URL}/institutionen/${id}`, {\n    method: 'DELETE',\n    credentials: 'include',\n  });\n  if (!res.ok) throw new Error('Fehler beim Löschen der Institution');\n  return res.json();\n}\n\n/**\n * Passwort zurücksetzen (Admin)\n */\nexport async function resetPassword(userId: string, newPassword: string): Promise<any> {\n  const res = await fetch(`${API_URL}/users/${userId}/reset-password`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ password: newPassword }),\n  });\n  if (!res.ok) throw new Error('Fehler beim Zurücksetzen des Passworts');\n  return res.json();\n}\n\n/**\n * Alle Institutionen abrufen\n */\nexport async function fetchInstitutionen(): Promise<any[]> {\n  const res = await fetch(`${API_URL}/institutionen`, {\n    credentials: 'include',\n    headers: { 'Content-Type': 'application/json' },\n  });\n  if (!res.ok) throw new Error('Fehler beim Laden der Institutionen');\n  return res.json();\n}\n\n// Weitere Funktionen können nach Bedarf ergänzt werden ","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useUser } from '../../components/UserContext';\nimport { fetchPlatformStats } from '../../services/superAdminApi';\nimport { AnimatedMascotsLoader, ErrorMsg, Card, Headline, StatGrid as BaseStatGrid } from '../../components/ui/AdminDashboardUI';\nimport Header from '../../components/Header';\nimport MascotBear from '../../components/ui/MascotBear';\nimport { FaUsers, FaUserTie, FaChalkboardTeacher, FaUserFriends, FaChild, FaLayerGroup, FaSignInAlt, FaEnvelope, FaBell } from 'react-icons/fa';\n\nconst StatCard = styled(Card)<{ accent?: boolean; cardWidth?: string }>`\n  width: ${({ cardWidth }) => cardWidth || '100%'};\n  min-width: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  min-height: 140px;\n  border: ${({ accent, theme }) => accent ? `2.5px solid ${theme.colors.accent}` : theme.components.card.border};\n  box-shadow: ${({ accent, theme }) => accent ? '0 4px 24px rgba(255,193,7,0.10)' : theme.components.card.boxShadow};\n  padding: ${({ theme }) => theme.components.card.padding};\n  border-radius: ${({ theme }) => theme.components.card.borderRadius};\n  margin: 0;\n  @media (max-width: 900px) {\n    width: 100%;\n  }\n  @media (max-width: 600px) {\n    min-height: 100px;\n    padding: 14px 8px;\n    width: 100%;\n  }\n`;\n\nconst StatLabel = styled.h3`\n  margin: 0;\n  font-weight: 700;\n  font-size: ${({ theme }) => theme.typography.headline2.fontSize}px;\n  color: ${({ theme }) => theme.colors.textPrimary};\n  @media (max-width: 600px) {\n    font-size: 1.1rem;\n  }\n`;\n\nconst StatValue = styled.p`\n  font-size: 2.2rem;\n  font-weight: 700;\n  margin: 8px 0 0 0;\n  color: ${({ theme }) => theme.colors.primary};\n  @media (max-width: 600px) {\n    font-size: 1.3rem;\n  }\n`;\n\nconst IconCircle = styled.div<{ color: string }>`\n  background: ${({ color }) => color};\n  border-radius: 50%;\n  width: 48px;\n  height: 48px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 12px;\n  box-shadow: 0 2px 8px rgba(44,62,80,0.10);\n  @media (max-width: 600px) {\n    width: 36px;\n    height: 36px;\n    margin-bottom: 8px;\n    svg { font-size: 18px !important; }\n  }\n`;\n\nconst StatRow = styled.div`\n  display: flex;\n  justify-content: center;\n  gap: 3%;\n  margin-bottom: 32px;\n  @media (max-width: 900px) {\n    flex-direction: column;\n    gap: 16px;\n    align-items: stretch;\n    margin-bottom: 18px;\n  }\n`;\n\nconst SectionHeadline = styled(Headline)`\n  margin-top: 32px;\n  margin-bottom: 12px;\n  text-align: left;\n  @media (max-width: 600px) {\n    margin-top: 18px;\n    margin-bottom: 8px;\n    font-size: 1.2rem;\n  }\n`;\n\nconst MascotSection = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 8px;\n  margin-top: 30px;\n`;\n\nconst BearWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  min-width: 100px;\n  max-width: 140px;\n  margin: 0 auto 0 auto;\n  margin-bottom: -85px;\n  @media (max-width: 600px) {\n    max-width: 90px;\n    min-width: 70px;\n  }\n`;\n\nconst Divider = styled.hr`\n  width: 100%;\n  border: none;\n  border-top: 1.5px solid ${({ theme }) => theme.colors.border};\n  margin: 24px 0 12px 0;\n  @media (max-width: 600px) {\n    margin: 12px 0 8px 0;\n  }\n`;\n\nconst ExportButton = styled.button`\n  background: ${({ theme }) => theme.colors.accent};\n  color: #212121;\n  border: none;\n  border-radius: 12px;\n  padding: 10px 22px;\n  font-size: 1rem;\n  font-weight: 700;\n  margin: 0 auto 18px auto;\n  display: block;\n  box-shadow: 0 2px 8px rgba(255,193,7,0.10);\n  cursor: pointer;\n  transition: background 0.18s, color 0.18s;\n  &:hover, &:focus {\n    background: ${({ theme }) => theme.colors.primary};\n    color: #fff;\n    outline: none;\n  }\n`;\n\nconst statMeta = [\n  { key: 'users', label: 'Alle Nutzer', icon: <FaUsers size={24} color=\"#fff\" />, color: '#4CAF50' },\n  { key: 'admins', label: 'Admins (Kita-Leitung)', icon: <FaUserTie size={24} color=\"#fff\" />, color: '#388E3C' },\n  { key: 'educators', label: 'Erzieher:innen', icon: <FaChalkboardTeacher size={24} color=\"#fff\" />, color: '#1976D2' },\n  { key: 'parents', label: 'Eltern', icon: <FaUserFriends size={24} color=\"#fff\" />, color: '#FFC107' },\n  { key: 'children', label: 'Kinder', icon: <FaChild size={24} color=\"#fff\" />, color: '#FF7043' },\n  { key: 'groups', label: 'Gruppen', icon: <FaLayerGroup size={24} color=\"#fff\" />, color: '#7B1FA2' },\n  { key: 'checkins', label: 'Check-ins', icon: <FaSignInAlt size={24} color=\"#fff\" />, color: '#009688' },\n  { key: 'messages', label: 'Nachrichten', icon: <FaEnvelope size={24} color=\"#fff\" />, color: '#0288D1' },\n  { key: 'notifications', label: 'Benachrichtigungen', icon: <FaBell size={24} color=\"#fff\" />, color: '#FFB300' },\n];\n\nconst userStats = statMeta.slice(0, 4); // Nutzer, Admins, Erzieher, Eltern\nconst activityStats = statMeta.slice(4); // Kinder, Gruppen, Check-ins, Nachrichten, Benachrichtigungen\n\nfunction downloadCSV(stats: any) {\n  const rows = Object.entries(stats).map(([key, value]) => ({ Kategorie: key, Wert: value }));\n  const header = 'Kategorie;Wert\\n';\n  const csv = header + rows.map(r => `${r.Kategorie};${r.Wert}`).join('\\n');\n  const blob = new Blob([csv], { type: 'text/csv' });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = 'plattform-statistiken.csv';\n  a.click();\n  URL.revokeObjectURL(url);\n}\n\nfunction renderStatRows(\n  statsArr: Array<{ key: string; label: string; icon: React.ReactNode; color: string }>,\n  stats: Record<string, number>,\n  accentFirst = false\n): React.ReactElement[] {\n  const rows: React.ReactElement[] = [];\n  for (let i = 0; i < statsArr.length; i += 3) {\n    const row = statsArr.slice(i, i + 3);\n    let cardWidth = '100%';\n    if (row.length === 2) cardWidth = '48.5%';\n    if (row.length === 3) cardWidth = '30%';\n    rows.push(\n      <StatRow key={i}>\n        {row.map((meta, j) => (\n          <StatCard\n            key={meta.key}\n            accent={accentFirst && i + j === 0}\n            aria-label={meta.label}\n            tabIndex={0}\n            cardWidth={cardWidth}\n          >\n            <IconCircle color={meta.color}>{meta.icon}</IconCircle>\n            <StatLabel>{meta.label}</StatLabel>\n            <StatValue>{stats[meta.key] ?? 0}</StatValue>\n          </StatCard>\n        ))}\n      </StatRow>\n    );\n  }\n  return rows;\n}\n\nconst Statistiken: React.FC = () => {\n  const { benutzer } = useUser();\n  const [stats, setStats] = useState<any>({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (benutzer?.role !== 'SUPER_ADMIN') return;\n    setLoading(true);\n    fetchPlatformStats()\n      .then(setStats)\n      .catch(() => setError('Fehler beim Laden der Statistiken.'))\n      .finally(() => setLoading(false));\n  }, [benutzer]);\n\n  if (benutzer?.role !== 'SUPER_ADMIN') return <ErrorMsg>Zugriff verweigert</ErrorMsg>;\n  if (loading) return <AnimatedMascotsLoader text=\"Lade Statistiken...\" />;\n  if (error) return <ErrorMsg>{error}</ErrorMsg>;\n\n  return (\n    <>\n      <Header title=\"Plattformweite Statistiken\" />\n      <MascotSection>\n        <BearWrapper>\n          <MascotBear size={120} mood=\"happy\" speechBubble={undefined} />\n        </BearWrapper>\n        <Headline as=\"div\" style={{ fontSize: 18, margin: 0, color: '#388E3C', textAlign: 'center' }}>\n          Hier findest du alle wichtigen Zahlen!\n        </Headline>\n      </MascotSection>\n      <ExportButton onClick={() => downloadCSV(stats)} aria-label=\"Statistiken als CSV exportieren\">\n        Statistiken als CSV exportieren\n      </ExportButton>\n      {renderStatRows(userStats, stats, true)}\n      <Divider />\n      {renderStatRows(activityStats, stats)}\n    </>\n  );\n};\n\nexport default Statistiken; "],"names":["API_URL","async","fetchInstitutionenAdmins","res","fetch","concat","credentials","headers","ok","Error","json","fetchEducators","fetchParents","addKita","data","method","body","JSON","stringify","fetchSuperAdminStats","getSuperAdminStats","fetchPlatformStats","addEducator","_objectSpread","role","editEducator","id","deleteEducator","addParent","editParent","deleteParent","editKita","deleteKita","fetchInstitutionen","StatCard","styled","Card","_templateObject","_taggedTemplateLiteral","_ref","cardWidth","_ref2","accent","theme","colors","components","card","border","_ref3","boxShadow","_ref4","padding","_ref5","borderRadius","StatLabel","h3","_templateObject2","_ref6","typography","headline2","fontSize","_ref7","textPrimary","StatValue","p","_templateObject3","_ref8","primary","IconCircle","div","_templateObject4","_ref9","color","StatRow","_templateObject5","MascotSection","Headline","_templateObject6","_templateObject7","BearWrapper","_templateObject8","Divider","hr","_templateObject9","_ref0","ExportButton","button","_templateObject0","_ref1","_ref10","statMeta","key","label","icon","_jsx","FaUsers","size","FaUserTie","FaChalkboardTeacher","FaUserFriends","FaChild","FaLayerGroup","FaSignInAlt","FaEnvelope","FaBell","userStats","slice","activityStats","renderStatRows","statsArr","stats","accentFirst","arguments","length","undefined","rows","i","row","push","children","map","meta","j","_stats$meta$key","_jsxs","tabIndex","Statistiken","benutzer","useUser","setStats","useState","loading","setLoading","error","setError","useEffect","then","catch","finally","ErrorMsg","AnimatedMascotsLoader","text","_Fragment","Header","title","MascotBear","mood","speechBubble","as","style","margin","textAlign","onClick","csv","Object","entries","_ref11","value","Kategorie","Wert","r","join","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","downloadCSV"],"sourceRoot":""}