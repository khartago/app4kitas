"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[22],{3022:(a,t,e)=>{e.r(t),e.d(t,{default:()=>d});var n=e(5043),c=e(8223),i=e(5974),r=e(8845),s=e(579);const d=()=>{const{benutzer:a}=(0,c.J)(),[t,e]=(0,n.useState)([]),[d,l]=(0,n.useState)(!0),[o,u]=(0,n.useState)(null),[h,w]=(0,n.useState)(""),[p,C]=(0,n.useState)(""),[y,g]=(0,n.useState)(null);(0,n.useEffect)(()=>{"ADMIN"===(null===a||void 0===a?void 0:a.role)&&(l(!0),(0,i.pl)().then(e).catch(()=>u("Fehler beim Laden der Gruppen.")).finally(()=>l(!1)))},[a]);return"ADMIN"!==(null===a||void 0===a?void 0:a.role)?(0,s.jsx)(r.IW,{children:"Zugriff verweigert"}):d?(0,s.jsx)(r.BZ,{text:"Lade Gruppen..."}):o?(0,s.jsx)(r.IW,{children:o}):(0,s.jsxs)("div",{children:[(0,s.jsx)(r.$j,{children:"Gruppenverwaltung"}),(0,s.jsx)(r.pd,{placeholder:"Neue Gruppe",value:h,onChange:a=>w(a.target.value)}),(0,s.jsx)(r.$n,{onClick:async()=>{if(h){l(!0);try{await(0,i.$)(h),e(await(0,i.pl)()),w("")}catch(a){u("Fehler beim Hinzuf\xfcgen der Gruppe.")}l(!1)}},children:"Hinzuf\xfcgen"}),(0,s.jsx)("ul",{children:t.map(a=>(0,s.jsxs)(r.Zp,{children:[(0,s.jsx)("h3",{children:a.name}),(0,s.jsx)(r.$n,{onClick:()=>g(a.id),children:"Erzieher zuweisen"})]},a.id))}),y&&(0,s.jsxs)("div",{children:[(0,s.jsx)(r.pd,{placeholder:"Erzieher-ID",value:p,onChange:a=>C(a.target.value)}),(0,s.jsx)(r.$n,{onClick:async()=>{if(y&&p){l(!0);try{await(0,i.kC)(y,[p]),e(await(0,i.pl)()),C(""),g(null)}catch(a){u("Fehler bei der Zuweisung.")}l(!1)}},children:"Zuweisen"})]})]})}},5974:(a,t,e)=>{e.d(t,{$:()=>s,$r:()=>g,Bx:()=>w,EZ:()=>C,F4:()=>p,Iw:()=>h,N6:()=>u,RN:()=>f,UR:()=>x,Zr:()=>A,dE:()=>i,kC:()=>d,oS:()=>o,pl:()=>r,qU:()=>y,st:()=>l});var n=e(9722);const c="/api",i=async()=>(await n.A.get("".concat(c,"/admin/stats"),{withCredentials:!0})).data,r=async()=>(await n.A.get("".concat(c,"/groups"),{withCredentials:!0})).data,s=async a=>(await n.A.post("".concat(c,"/groups"),a,{withCredentials:!0})).data,d=async(a,t)=>(await n.A.put("".concat(c,"/groups/").concat(a,"/educators"),{educatorIds:t},{withCredentials:!0})).data,l=async()=>(await n.A.get("".concat(c,"/children"),{withCredentials:!0})).data,o=async a=>(await n.A.post("".concat(c,"/children"),a,{withCredentials:!0})).data,u=async(a,t)=>(await n.A.put("".concat(c,"/children/").concat(a),t,{withCredentials:!0})).data,h=async(a,t)=>{const e=new FormData;e.append("photo",t);return(await n.A.put("".concat(c,"/children/").concat(a,"/photo"),e,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}})).data},w=async()=>(await n.A.get("".concat(c,"/educators"),{withCredentials:!0})).data,p=async()=>(await n.A.get("".concat(c,"/checkin/stats"),{withCredentials:!0})).data,C=async a=>(await n.A.delete("".concat(c,"/children/").concat(a),{withCredentials:!0})).data,y=a=>{window.open("".concat(c,"/children/export?format=").concat(a),"_blank")},g=async a=>(await n.A.post("".concat(c,"/educators"),a,{withCredentials:!0})).data,x=async(a,t)=>(await n.A.put("".concat(c,"/educators/").concat(a),t,{withCredentials:!0})).data,A=async a=>(await n.A.delete("".concat(c,"/educators/").concat(a),{withCredentials:!0})).data,f=a=>{window.open("".concat(c,"/educators/export?format=").concat(a),"_blank")}}}]);
//# sourceMappingURL=22.807f4d6a.chunk.js.map